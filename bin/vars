#!/usr/bin/env bash
#
#  Configuration sourced by other scripts.
#

### XXX: These settings are currently duplicated at the top of data/customize.sh.

#####################
## Per-relese configuration
#####################

# export RELEASE=vivid
# export IMAGE_NAME="livessh-ubuntu15.04"  # volume name of .iso
export RELEASE=wily
export IMAGE_NAME="livessh-ubuntu15.10"  # volume name of .iso

####################
## apt-proxy config
#####################

# TODO: Use autodetection (a la apt-config-tool) of the host's apt proxy situation.
# N.B.: This proxy is used only during the build process; at runtime, the image itself will use a proxy only if one is
#       advertised via Zeroconf/Avahi.
# N.B.: This variable *may* be unset if you do not wish to use a proxy.
export APT_PROXY="http://192.168.0.1:3142"

####################
## User configurables
#####################

export USERNAME=ubuntu
export PASSWORD=ubuntu  # TODO: Currently not used.
# export DOCKER_REPO_PATH="$PWD/../docker.git"
export CONTAINER_NAME="tmp-livessh"
export IMAGE_RELEASE_NOTES_URL="http://example.com"
export OUTPUT_ISO_PATH="${PWD}/../${IMAGE_NAME}.iso"

#####################
## Options used by data/customize.sh script (and available to customize.d/* scripts).
#####################

# (APT_PROXY and USERNAME are also passed to customize.sh.)
export IMAGE_FLAVOUR="ubuntu-livessh"
export HOSTNAME_BASE="livessh"

## TODO: Not yet supported.
# export TERMINAL_AUTOLOGIN="root"

#####################
## End of user-configurables
#####################

export BASE_PATH="${BASE_PATH-$PWD/../tmp/filesystem}"
export IMAGE_PATH="${IMAGE_PATH-$PWD/../tmp/image}"
export DATA_PATH="../data"
export CUSTOMIZE_BASE_PATH=".."

# Docker volume; read-only; files being provided *to* the container.
export RESOURCES_TMPDIR="$PWD/../tmp/resources"
# Docker volume; ead-write; files being produced *by* the container.
export ARTIFACTS_TMPDIR="$PWD/../tmp/artifacts"

export DEBOOTSTRAP_IMAGE_TAG="$USER/ubuntu-debootstrap-minbase:$RELEASE"
